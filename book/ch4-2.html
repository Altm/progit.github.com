---
layout: master
title: Pro Git 4.2 Git on the Server Getting Git on a Server
---
<h2 id='getting_git_on_a_server'>Getting Git on a Server</h2>

<p>In order to initially setup any Git served repository, you have to export an existing one into a &#8216;bare&#8217; repository - a repository that does not contain a working directory. This is generally pretty straightforward to do.</p>

<p>In order to clone your repository to create a new bare repository, just run the clone command with the &#8217;&#8211;bare&#8217; option. By convention, bare repository directories end in &#8216;.git&#8217;, like so:</p>

<pre><code>$ git clone --bare my_project my_project.git
Initialized empty Git repository in /opt/projects/my_project.git/</code></pre>

<p>Now, the output for this command is a little confusing. The only part of the clone process that generates status output in this case is the <code>git init</code> part, which creates an empty directory. The actual object transfer gives no output, but it does happen. You should now have a copy of the Git directory data in your &#8216;my_project.git&#8217; directory.</p>

<p>This is <em>roughly</em> equivalent to something like</p>

<pre><code>$ cp -Rf my_project/.git my_project.git</code></pre>

<p>There are a couple of minor differences in the configuration file, but for our purposes now, this is pretty close to the same thing. It&#8217;s just taking the Git repository by itself, without a working directory, and creating a directory specifically for it alone.</p>

<h3 id='putting_the_bare_repository_on_a_server'>Putting the Bare Repository on a Server</h3>

<p>Now that we have a &#8216;bare&#8217; copy of our repository, all we need to do is put it on a server and setup our protocols. Let&#8217;s say that we&#8217;ve setup a server for this that we have SSH access to called &#8216;gitserver.com&#8217;, and we want to store all our Git repositories under the &#8216;/opt/git&#8217; directory. We can setup our repository by just copying our repository over:</p>

<pre><code>$ scp -r my_project.git user@gitserver.com:/opt/git</code></pre>

<p>At this point, other users that have SSH access to the same server can clone our repository by running:</p>

<pre><code>$ git clone user@gitserver.com:/opt/git/my_project.git</code></pre>

<p>No problem. Now you see how easy it is to take a Git repository, create a bare version and place it on a server that you and your collaborators have SSH access to. Now you&#8217;re ready to collaborate on the same project.</p>

<p>It&#8217;s important to note here that this is literally all you need to do to run a useful Git server that several people have access to - just add SSH-able accounts on a server and stick a bare repository somewhere that all those users have read and write access to. You are now ready to go - nothing else needed.</p>

<p>In the next few sections, we&#8217;ll see how to expand on that to more sophisticated setups. This will include not having to create user accounts for each user, adding public read access to repositories, setting up web UIs, the Gitosis tool and more. However, keep in mind that to just collaborate with a couple of people on a private project all you need is an SSH server and a bare repository.</p>

<div id='nav'>
<a href='ch4-1.html'>prev</a> | <a href='ch4-3.html'>next</a>
</div>