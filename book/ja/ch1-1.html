---
layout: translation
title: Pro Git 1.1 まずはじめに バージョン管理について
---
<h2 id='id4'>バージョン管理について</h2>

<p>バージョン管理とは, なぜ必要なのか. バージョン管理はファイルへの変更を時系列に記録するシステムで、後から特定の時系列バージョンを呼び出すことができます.例えば本書では, バージョン管理されたソフトウェア・ソースコードを扱いますが, 実際にはソースコードだけがバージョン管理の対象ではありません.</p>

<p>もしあなたがグラフィックや Web のデザイナーで, 画像やレイアウトの中に全てのバージョンを保存しておきたいものがある場合, バージョン管理システム(以降 VCS と呼ぶ)はとても賢い選択です. VCS は, 特定のファイルでもプロジェクト全体でも, ある過去の時点に戻せます. 時系列の変更を比較し, 誰がバグの原因となる修正を施し, またバグを解消し, いつそれが行われたかを確認できます. 一般的に VCS はファイルの損傷や消失を簡単に元に戻せます. 加えてこれら全てにかかる手間はごくわずかなものです.</p>

<h3 id='id5'>ローカル・バージョン管理システム</h3>

<p>バージョン管理の手法として, ファイルを別ディレクトリにコピーするというのがあります(賢い方はディレクトリを時系列に分けているかも知れません). この方法は非常に一般的で, その単純明快さが選ばれる理由であり, 同時に途方もないエラーを生む傾向にあります. どのディレクトリが対象か簡単に忘れてしまいますし, 意図しないファイルに書き込んでしまったり, 間違ったファイルを上書きしてしまうこともあります.</p>

<p>この問題を解決するため, プログラマーたちはローカルVCSを開発しました. 当時のそれは単純なデータベースによりファイルへの変更全てをリビジョン管理下に置くものでした(図1-1).</p>

<p><center><img src="/figures/ch1/18333fig0101-tn.png"></center><br/> 図1-1. ローカル・バージョン管理の図</p>

<p>もっとも有名な VCS ツールの一つに RCS と呼ばれるシステムがありました. これは今日でもまだ多くのコンピュータで使用されています. 有名な Mac OS X でさえも, 開発ツールをインストールすると RCS コマンドが含まれています. このツールは基本的に, 変更から変更を特別なディスク・フォーマットのパッチ・セット(これはファイルとは異なります)に記録して動きます. これはパッチに追加された全ての時点のファイルを再生成することができます.</p>

<h3 id='id6'>集中型バージョン管理システム</h3>

<p>次に人々が直面した問題が, 他システムを使う開発者たちとのコラボレーションです. これを解決するため, 集中型バージョン管理システム(以降 CVCS と呼ぶ)が開発されました. CVS や Subversion, Perforce といった CVCS は, 一つのサーバで全てのファイルを管理し, 複数のクライアントがサーバからファイルをチェックアウトします. CVCS は長年バージョン管理のスタンダードでした(図1-2).</p>

<p><center><img src="/figures/ch1/18333fig0102-tn.png"></center><br/> 図1-2. 集中型バージョン管理の図</p>

<p>CVCS にはローカル VCS 以上の, 多くの利点があります. 例えば, 誰でも自分以外がプロジェクトで何をしているのか正確に把握できます. 管理者はきめ細かく誰が何をするか管理できます. クライアントごとのローカルデータベースを処理するより CVCS で管理する方がはるかに簡単なのです.</p>

<p>しかし, CVCS にはいくつか深刻な欠点があります. 最も明らかなのは集中型サーバで発生する単一障害点(SPOF)です. サーバが1時間でもダウンすれば, その間は誰ともコラボレーションできませんし, 作業中全ての変更をバージョン管理することもできません. 中央データベースのハードディスクに破損が生じ, 適切にバックアップされていなかった場合, 個々のローカルコンピュータが持つスナップショット以外のプロジェクト全体の変更履歴を失うことになります. ローカル VCS も同じ問題に脅かされています. つまり一カ所でプロジェクト全体の履歴を失えば全てを失うリスクがあるということです.</p>

<h3 id='id7'>分散型バージョン管理システム</h3>

<p>ここから分散型バージョン管理システム(以降 DVCS と呼ぶ)に入っていきましょう. DVCS (Git, Mercurial, Bazaar, Darcs 等々)では, クライアントはファイルの最新スナップショットをチェックアウトするだけではありません. リポジトリ全体をミラーリングします. 故にどのサーバがダウンしても, そのサーバを介してコラボレーションしていたシステムは, どれか一つのクライアントのリポジトリからサーバ復旧の為バックアップをコピーすることができます. 全てのチェックアウトは全データの完全バックアップなのです(図1-3).</p>

<p><center><img src="/figures/ch1/18333fig0103-tn.png"></center><br/> 図1-3. 分散型バージョン管理システムの図</p>

<p>加えて, これら DVCS の多くが, 連携する複数のリモート・リポジトリを持ちながら上手く機能します. おかげで同じプロジェクトの中で, 様々の方法を一度に異なった集団でコラボレーションさせることができるのです. DVCS は 集中型システムでは不可能だったいくつかの作業手順も可能にします. 例えば階層型モデルがそうです.</p>

<div id='nav'>
<a href='ch1-0.html'>prev</a> | <a href='ch1-2.html'>next</a>
</div>